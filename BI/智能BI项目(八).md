# 扩展后期完善维护

1. 支持用户查看图表原始数据 √ sanqi 
2. 图表数据分表存储，提高查询灵活性和性能 √ sanqi 
3. 支持分组 (分标签) 查看和检索图表 
4. 增加更多可选参数来控制图表的生成，比如图表配色等 
5. 支持用户对失败的图表进行手动重试 
6. 限制用户同时生成图表的数量，防止单用户抢占系统资源 
7. 统计用户生成图表的次数，甚至可以添加积分系统，消耗积分来智能分析 
8. 支持编辑生成后的图表的信息。比如可以使用代码编辑器来编辑 Echarts 图表配置代码 
9. 由于图表数据是静态的，很适合使用缓存来提高加载速度 
10. 使用死信队列来处理异常情况，将图表生成任务置为失败 
11. 补充传统 BI 拥有的功能，把智能分析作为其中一个子模块 
12. 给任务的执行增加 guava Retrying 重试机制，保证系统可靠性 √ sanqi 
13. 提前考虑到 AI 生成错误的情况，在后端进行异常处理(比如 AI 说了多余的话，提取正确的字符串) √ sanqi 
14. 如果说任务根本没提交到队列中(或者队列满了)，是不是可以用定时任务把失败状态的图表放到队列中(补偿机制建立)
15. 建议给任务的执行增加一个超时时间，超时自动标记为失败 (超时控制) √ sanqi 
16. 反向压力: https://zhuanlan.zhihu.com/p/404993753，通过调用的服务状态来选择当前系统的策略(比如5根据AI 根据配置去手动调整算是反向压力的第一种手法,第二种是远程方提供状态接口,获取服务器情况写专门的程序用于动态程序判断控制参数 服务的当前任务队列数来控制咱们系统的核心线程数)，从而最大化利用系统资源。 
17. 我的图表页面增加一个刷新、定时自动刷新的按钮，保证获取到图表的最新状态(前端轮询) 
18. 任务执行成功或失败，给用户发送实时消息通知(实时: websocket、server side event) 
19. 最简单的实现是更改现在的超时控制模块引入邮件服务用邮件的形式完成,在异步化的任务流程中也该功能 
20. 使用 Redis 存储用户登录的分布式 Session，实现多机用户登录状态同步 √ sanqi 
21. 将敏感词校验抽成独立的微服务,编写 SDK 单独作为微服务通过远程调用的形式完成铭感词校验,可以加入放接口项目实现解耦复用和线上调用 
22. 摘除冗余功能独立为另一个微服务 √ sanqi 
23. 引入新的 ai 模型如 openAI 我记的国内有一个二次封装的Ai也有免费的 AK,SK 还有嗯我记得之前有过 AI 共享的那种,可以考虑学习那种机制 
24. 引入框架 优化分表逻辑 https://shardingsphere.apache.org/document/4.1.0/cn/manual/sharding-jdbc/
25. 可以可以分库存储,用户上传原始数据,不然数据量大时候有用数据表查找不方便,也能业务隔离
26. 重构前端页面,模仿真正 BI 项目编程企业级 BI 项目
27. 多来源 AI 调用, 尝试封装大厂模型
28. 引入支付功能,完善收费体系进行盈利